:root{
  --bg:#070b16; --panel:#0e1626; --accent:#7dd3fc; --good:#22c55e; --bad:#ef4444; --muted:#94a3b8; --text:#e5e7eb; --glow:#60a5fa;
}
*{box-sizing:border-box}
html,body{height:100%; margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif; background:radial-gradient(1200px 700px at 60% -10%, #132243 0%, var(--bg) 60%); color:var(--text)}
header{display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between; padding:12px 16px; background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(0,0,0,0)); border-bottom:1px solid rgba(255,255,255,0.06)}
.title{font-weight:800; letter-spacing:.3px}
.sub{font-size:.9rem; color:var(--muted)}
main{max-width:1100px; margin:16px auto; padding:0 16px; display:grid; grid-template-columns: 1fr; gap:16px}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.04), rgba(0,0,0,0.1)); border:1px solid rgba(255,255,255,0.08); border-radius:18px; padding:14px; box-shadow:0 10px 30px rgba(0,0,0,0.25)}

/* Game surface */
.game{position:relative; min-height:560px; border-radius:18px; overflow:hidden; background:
  radial-gradient(900px 400px at 110% -10%, rgba(80,134,255,.18), transparent 60%),
  radial-gradient(600px 380px at -10% -20%, rgba(80,255,134,.12), transparent 70%),
  linear-gradient(180deg, rgba(255,255,255,.02), rgba(0,0,0,.15));
  border:1px solid rgba(255,255,255,0.08);
  scroll-margin-bottom: 24px;
}
.center{position:absolute; inset:0; display:grid; place-items:center; pointer-events:none}
.hex{font-size:5rem; font-weight:900; letter-spacing:1px; color:#eaf2ff; text-shadow:0 6px 30px rgba(0,0,0,.6), 0 0 24px rgba(96,165,250,.35)}

.answers{position:absolute; left:0; right:0; bottom:14px; display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; padding:14px; z-index:6}
@media (min-width: 720px){ .answers{ grid-template-columns: repeat(4, minmax(0,1fr)); } }
.ans{padding:14px 12px; border-radius:14px; border:1px solid rgba(255,255,255,.22); background:rgba(255,255,255,.12); color:#f8fafc; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:1.06rem; font-weight:600; cursor:pointer; transition: transform .08s ease, background .2s, border-color .2s; white-space: pre;}
.ans:hover{transform:translateY(-2px); background:rgba(255,255,255,.16)}
.ans:focus-visible{outline:2px solid var(--accent); outline-offset:2px}
.ans.correct{background:rgba(34,197,94,.18); border-color:rgba(34,197,94,.55); color:#ecfdf5}
.ans.wrong{background:rgba(239,68,68,.18); border-color:rgba(239,68,68,.55); color:#fff1f2}

.timerBar{position:absolute; top:0; left:0; height:6px; background:linear-gradient(90deg, #34d399, #60a5fa, #f59e0b); width:100%; transform-origin:left; box-shadow:0 0 10px rgba(99,102,241,.6); z-index:8}

.kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:.85rem; background:rgba(255,255,255,.12); color:#e5e7eb; padding:2px 6px; border-radius:6px; border:1px solid rgba(255,255,255,.22)}
footer{max-width:1100px; margin:12px auto; padding:0 16px 24px; color:#cbd5e1; font-size:.9rem}
a{color:#93c5fd}

/* Canvas layer */
#fxCanvas{position:absolute; inset:0; width:100%; height:100%; z-index:1;}

/* Lives overlay */
.livesOverlay{position:absolute; top:10px; left:12px; display:flex; gap:10px; z-index:9; align-items:center}
.lifeIcon{width:22px; height:22px; display:grid; place-items:center; font-size:18px; line-height:1; color:#fecaca; text-shadow:0 0 10px rgba(239,68,68,.6); filter:drop-shadow(0 4px 8px rgba(0,0,0,.4))}
.lifeIcon.lost{animation:lifePop .7s ease forwards}
@keyframes lifePop{0%{transform:scale(1) translateY(0); opacity:1}30%{transform:scale(1.3)}100%{transform:scale(.2) translateY(40px); opacity:0}}

/* HUD inside game */
.hudOverlay{position:absolute; top:10px; right:10px; z-index:9; background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.18); padding:6px 10px; border-radius:10px; font-variant-numeric:tabular-nums; backdrop-filter:blur(4px); color:#eaf2ff}
.hudOverlay strong{font-weight:800}

/* Bottom toolbar (sticky) */
.toolbar{position:sticky; bottom:8px; z-index:5; display:flex; flex-wrap:wrap; align-items:center; gap:8px; background:rgba(0,0,0,.35); border:1px solid rgba(255,255,255,.18); border-radius:14px; padding:8px 10px; backdrop-filter:blur(6px)}
.toolbar .group{display:flex; align-items:center; gap:6px}
.toolbar label{font-size:.85rem; color:#dbeafe}
.toolbar select,.toolbar button{background:var(--panel); color:#eaf2ff; border:1px solid rgba(255,255,255,.22); border-radius:10px; padding:8px 10px; font-size:.95rem}
